<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SÉ™nÉ™ XÃ¼susi SÃ¼rpriz â¤ï¸</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&family=Lora:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css"/>
</head>
<body id="body">
  <div id="hearts-container"></div>

  <!-- AÃ§Ä±lma animasiyasÄ± -->
  <div id="unlock-overlay" class="hidden">
    <div class="unlock-animation">
      <i class="fas fa-lock fa-8x" id="unlock-icon"></i>
      <p id="unlock-text">AÃ§Ä±lÄ±r... ğŸ’•</p>
    </div>
  </div>

  <!-- DoÄŸru cavab animasiyasÄ± -->
  <div id="correct-popup" class="hidden">
    <div class="correct-animation">
      <p>DoÄŸru! â¤ï¸</p>
    </div>
  </div>

  <div id="main-screen">
    <h1>SÉ™nin ÃœÃ§Ã¼n Bir NeÃ§É™ HÉ™diyyÉ™ HazÄ±rlamÄ±ÅŸam â¤ï¸</h1>
    <p class="subtitle">QÉ™lbim sÉ™nÉ™ nÉ™ hÉ™diyyÉ™ versin, sevgilim?</p>
    
    <div class="icons">
      <div class="icon" onclick="showSection('image')">
        <i class="fas fa-heart fa-6x"></i>
        <p>ÅÉ™kil</p>
      </div>
      <div class="icon" onclick="showSection('music')">
        <i class="fas fa-music fa-6x"></i>
        <p>Musiqi</p>
      </div>
      <div class="icon" onclick="showSection('letter')">
        <i class="fas fa-envelope fa-6x"></i>
        <p>MÉ™ktub</p>
      </div>
      <div class="icon" onclick="startSecretPath()">
        <i class="fas fa-lock fa-6x"></i>
        <p>Gizli HÉ™diyyÉ™</p>
      </div>
    </div>
  </div>

  <!-- ÅÉ™kil -->
  <div id="image" class="section hidden">
    <h2>Bizim xÃ¼susi anÄ±mÄ±z ğŸ“¸</h2>
    <img src="sekil.jpg" alt="SÉ™nin ÅŸÉ™klin" class="surprise-image"/>
    <p>Bu ÅŸÉ™kil sÉ™nin Ã¼Ã§Ã¼n xÃ¼susi hazÄ±rlanmÄ±ÅŸdÄ±r â¤ï¸</p>
    <button onclick="backToMain()">Geri qayÄ±t</button>
  </div>

  <!-- Musiqi -->
  <div id="music" class="section hidden">
    <h2>SÉ™nÉ™ xÃ¼susi hazÄ±rlanmÄ±ÅŸ mahnÄ± ğŸ¶</h2>
    <audio id="musicPlayer" controls>
      <source src="musiqi.mp3" type="audio/mpeg">
      Brauzerin audio dÉ™stÉ™klÉ™mir.
    </audio>
    <p>DinlÉ™ vÉ™ gÃ¼lÃ¼mse... Bu sÉ™nÉ™ mÉ™xsusdur â¤ï¸</p>
    <button onclick="backToMain()">Geri qayÄ±t</button>
  </div>

  <!-- MÉ™ktub -->
  <div id="letter" class="section hidden">
    <h2>SÉ™nÉ™ yazdÄ±ÄŸÄ±m mÉ™ktub â¤ï¸</h2>
    <div class="content">
      Æziz Yasemin,  
      SÉ™ni ilk gÃ¶rdÃ¼yÃ¼m andan...  
      (buraya tam mÉ™ktubunu yapÄ±ÅŸdÄ±r)  
      SÉ™ni Ã§ox sevirÉ™m,  
      [AdÄ±n]
    </div>
    <button onclick="backToMain()">Geri qayÄ±t</button>
  </div>

  <!-- Gizli Yol â€“ 1 -->
  <div id="secret-step1" class="section hidden">
    <div class="timer-container">
      <div class="timer-ring" id="timer-ring1">
        <div class="timer-text" id="timer1">02:00</div>
      </div>
    </div>
    <h2>Gizli Yol BaÅŸladÄ± ğŸ’•</h2>
    <p class="hint">Ä°lk gÃ¶rÃ¼ÅŸ yerimiz harada idi?</p>
    <input type="text" id="answer1" placeholder="CavabÄ±nÄ± yaz..."/>
    <button onclick="checkAnswer(1)">Davam Et</button>
    <button onclick="backToMain()">Geri qayÄ±t</button>
  </div>

  <!-- 2 -->
  <div id="secret-step2" class="section hidden">
    <div class="timer-container">
      <div class="timer-ring" id="timer-ring2">
        <div class="timer-text" id="timer2">02:00</div>
      </div>
    </div>
    <h2>Bir az daha yaxÄ±n... â¤ï¸</h2>
    <p class="hint">MÉ™nÉ™ ilk dÉ™fÉ™ mÃ¼raciÉ™t etdiyin lÉ™qÉ™b nÉ™ idi?</p>
    <input type="text" id="answer2" placeholder="CavabÄ±nÄ± yaz..."/>
    <button onclick="checkAnswer(2)">NÃ¶vbÉ™ti</button>
    <button onclick="backToMain()">Geri qayÄ±t</button>
  </div>

  <!-- 3 -->
  <div id="secret-step3" class="section hidden">
    <div class="timer-container">
      <div class="timer-ring" id="timer-ring3">
        <div class="timer-text" id="timer3">02:00</div>
      </div>
    </div>
    <h2>Davam edirik... ğŸ¥°</h2>
    <p class="hint">MÉ™nim sÉ™nÉ™ ilk dÉ™fÉ™ mÃ¼raciÉ™t etdiyim lÉ™qÉ™b nÉ™ idi?</p>
    <input type="text" id="answer3" placeholder="CavabÄ±nÄ± yaz..."/>
    <button onclick="checkAnswer(3)">NÃ¶vbÉ™ti</button>
    <button onclick="backToMain()">Geri qayÄ±t</button>
  </div>

  <!-- 4 -->
  <div id="secret-step4" class="section hidden">
    <div class="timer-container">
      <div class="timer-ring" id="timer-ring4">
        <div class="timer-text" id="timer4">02:00</div>
      </div>
    </div>
    <h2>Bir az da xatÄ±rla... ğŸ’­</h2>
    <p class="hint">Bizim unudulmaz gÃ¶rÃ¼ÅŸ yerimiz haradÄ±r?</p>
    <input type="text" id="answer4" placeholder="CavabÄ±nÄ± yaz..."/>
    <button onclick="checkAnswer(4)">NÃ¶vbÉ™ti</button>
    <button onclick="backToMain()">Geri qayÄ±t</button>
  </div>

  <!-- 5 -->
  <div id="secret-step5" class="section hidden">
    <div class="timer-container">
      <div class="timer-ring" id="timer-ring5">
        <div class="timer-text" id="timer5">02:00</div>
      </div>
    </div>
    <h2>Son addÄ±m, sevgilim... ğŸŒŸ</h2>
    <p class="hint">Biz kimÉ™ bÉ™nzÉ™yirik?</p>
    <input type="text" id="answer5" placeholder="CavabÄ±nÄ± yaz..."/>
    <button onclick="checkAnswer(5)">AÃ§ HÉ™diyyÉ™ni</button>
    <button onclick="backToMain()">Geri qayÄ±t</button>
  </div>

  <!-- Final -->
  <div id="secret-final" class="section hidden">
    <div class="final-message">
      <h2>SÉ™n Bu SÉ™hifÉ™ni AÃ§a BildinsÉ™</h2>
      <p>DemÉ™li MÉ™ni Ã‡ox SevirsÉ™n</p>
      <p class="love-text">vÉ™ BilmÉ™lisÉ™n ki</p>
      <p class="love-text big">MÉ™ndÉ™ SÉ™ni Ã‡oox SevirÉ™m â¤ï¸</p>
    </div>
    <button onclick="backToMain()">Ana sÉ™hifÉ™yÉ™ qayÄ±t</button>
  </div>

  <script>
    let currentTimerInterval = null;

    function startTimer(step) {
      if (currentTimerInterval) clearInterval(currentTimerInterval);

      let timeLeft = 120;
      const timerText = document.getElementById(`timer${step}`);
      const timerRing = document.getElementById(`timer-ring${step}`);

      const input = document.getElementById(`answer${step}`);
      if (input) input.value = '';

      currentTimerInterval = setInterval(() => {
        timeLeft--;
        const min = Math.floor(timeLeft / 60);
        const sec = timeLeft % 60;
        timerText.textContent = `${min.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`;

        const progress = (timeLeft / 120) * 360;
        timerRing.style.setProperty('--progress', `${progress}deg`);

        if (timeLeft <= 10) timerRing.classList.add('warning');

        if (timeLeft <= 0) {
          clearInterval(currentTimerInterval);
          timerText.textContent = "00:00";
          const msg = document.createElement('div');
          msg.className = 'timeout-message';
          msg.innerHTML = 'Biraz daha cÉ™ld olmalÄ± idin... Amma sÉ™ni sevirÉ™m â¤ï¸';
          timerRing.parentNode.parentNode.insertBefore(msg, timerRing.parentNode.nextSibling);
          setTimeout(backToMain, 3000);
        }
      }, 1000);
    }

    function stopTimer() {
      if (currentTimerInterval) {
        clearInterval(currentTimerInterval);
        currentTimerInterval = null;
      }
    }

    function showSection(id) {
      document.getElementById('main-screen').classList.add('hidden');
      document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));

      const overlay = document.getElementById('unlock-overlay');
      overlay.classList.remove('hidden');
      const icon = document.getElementById('unlock-icon');
      icon.classList.add('unlocking');

      setTimeout(() => {
        overlay.classList.add('hidden');
        icon.classList.remove('unlocking');
        document.getElementById(id).classList.remove('hidden');

        // MahnÄ± bÃ¶lmÉ™si aÃ§Ä±larsa, baÅŸdan baÅŸla
        if (id === 'music') {
          const player = document.getElementById('musicPlayer');
          if (player) {
            player.currentTime = 0; // BaÅŸdan baÅŸla
            player.play().catch(() => {}); // Autoplay bloklanÄ±rsa xÉ™ta vermÉ™sin
          }
        }

        if (id.startsWith('secret-step')) {
          const step = id.replace('secret-step', '');
          startTimer(step);
        } else {
          stopTimer();
        }
      }, 2000);
    }

    function backToMain() {
      stopTimer();
      document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
      document.getElementById('main-screen').classList.remove('hidden');
      document.getElementById('body').style.background = "linear-gradient(135deg, #fffaf0 0%, #ffebee 100%)";
      stopHearts();
      document.getElementById('unlock-overlay').classList.add('hidden');
      document.getElementById('correct-popup').classList.add('hidden');

      // Musiqi dayandÄ±r (geri qayÄ±danda)
      const player = document.getElementById('musicPlayer');
      if (player) player.pause();
    }

    function startSecretPath() {
      showSection('secret-step1');
    }

    function showCorrectAnimation() {
      const popup = document.getElementById('correct-popup');
      popup.classList.remove('hidden');
      setTimeout(() => popup.classList.add('hidden'), 1500);
    }

    function checkAnswer(step) {
      let ans = document.getElementById(`answer${step}`).value.trim().toLowerCase();
      let correct = false;

      if (step === 1) correct = ans.includes('ÅŸahmat kursunun yanÄ±') || ans.includes('ÅŸahmat kursu yanÄ±');
      else if (step === 2) correct = ans.includes('bilge');
      else if (step === 3) correct = ans.includes('prenses');
      else if (step === 4) correct = ans.includes('yasamal') || ans.includes('yasamal park');
      else if (step === 5) correct = ans.includes('dudu') && ans.includes('bubu');

      if (correct) {
        stopTimer();
        showCorrectAnimation();

        if (step === 1) showSection('secret-step2');
        if (step === 2) showSection('secret-step3');
        if (step === 3) showSection('secret-step4');
        if (step === 4) showSection('secret-step5');
        if (step === 5) {
          showSection('secret-final');
          document.getElementById('body').style.background = "linear-gradient(135deg, #ffccd5, #ff9aa2)";
          startHearts();
        }
      } else {
        let msg = '';
        if (step === 1) msg = 'O gÃ¼n sÉ™nÉ™ birÅŸey gÉ™tirmiÅŸdim â¤ï¸';
        else if (step === 2) msg = 'SÉ™nÉ™ bunun hekayÉ™lÉ™rini danÄ±ÅŸÄ±rdÄ±m â¤ï¸';
        else if (step === 3) msg = '';
        else if (step === 4) msg = 'Orda kiÃ§ik bir Kola faciÉ™si yaÅŸanmÄ±ÅŸdÄ± ğŸ˜‚â¤ï¸';
        else if (step === 5) msg = 'Kaktusu xatÄ±rla â¤ï¸';

        if (msg) {
          alert(msg);
        } else {
          alert('YanlÄ±ÅŸ cavab... YenidÉ™n cÉ™hd et, xatÄ±rla bizi â¤ï¸');
        }
      }
    }

    function startHearts() {
      const c = document.getElementById('hearts-container');
      for (let i = 0; i < 30; i++) {
        const h = document.createElement('div');
        h.classList.add('heart');
        h.innerHTML = 'â¤ï¸';
        h.style.left = Math.random() * 100 + 'vw';
        h.style.animationDuration = (Math.random() * 3 + 4) + 's';
        c.appendChild(h);
      }
    }

    function stopHearts() {
      document.getElementById('hearts-container').innerHTML = '';
    }
  </script>
</body>
</html>
